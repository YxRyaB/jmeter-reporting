title: "should find all samples"
given:
  - time: 2014-03-26T14:30:00Z
  - collection: samples
    data: |
          { "_id": { "$oid" : "5167cec5856107c479739654"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739655"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739656"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739657"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739658"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739659"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739660"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739661"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739662"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739663"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739664"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 },
          { "_id": { "$oid" : "5167cec5856107c479739665"}, "ltKey": { "name": "test_name", "version": "1.2", "run": 1 }, "hn": "hostname", "gt": 1, "rc": "200", "tn": "Thread name", "lb": "Sample label", "t": 1, "s": true, "by": 1, "lt": 1 }
wts:
  - when: GET samples
    then: |
        [
          { "_id": "5167cec5856107c479739654", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739655", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739656", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739657", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739658", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739659", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739660", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739661", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739662", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739663", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null }  
        ]         
  - when: GET samples?limit=11
    then: |
        [
          { "_id": "5167cec5856107c479739654", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739655", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739656", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739657", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739658", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739659", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739660", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739661", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739662", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739663", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739664", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null }
        ]         
  - when: GET samples?limit=20
    then: |
        [
          { "_id": "5167cec5856107c479739654", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739655", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739656", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739657", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739658", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739659", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739660", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739661", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739662", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739663", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739664", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739665", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null }
        ]         
  - when: GET samples?limit=1
    then: |
        [
          { "_id": "5167cec5856107c479739654", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null }
        ]         
  - when: GET samples?limit=1&skip=1
    then: |
        [
          { "_id": "5167cec5856107c479739655", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null }
        ]         
  - when: GET samples?limit=2&skip=2
    then: |
        [
          { "_id": "5167cec5856107c479739656", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null },
          { "_id": "5167cec5856107c479739657", "ltKey": { "name": "test_name", "version": "1.2", "run": 1}, "hn": "hostname", "gt": 1, "rc": "200", "rcOk": null, "rm": null, "tn": "Thread name", "lb": "Sample label", "data": null, "sd": null, "t": 1, "s": true, "dt": null, "de": null, "reqH": null, "resH": null, "ct": null, "it": null, "et": null, "st": null, "by": 1, "lt": 1, "url": null, "at": null, "hs": null, "bs": null }
        ]
           